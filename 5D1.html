<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Filter Kombinasi 5D & Shio</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background-color: #f0f4f8; }
    nav { background-color: #2563eb; color: white; padding: 1rem; font-weight: bold; }
    .container { padding: 2rem; }
    textarea, select, button {
      margin-bottom: 1rem;
      width: 100%;
      font-size: 1rem;
      padding: 0.5rem;
      box-sizing: border-box;
    }
    pre {
      background-color: #ffffff;
      border: 1px solid #ccc;
      padding: 1rem;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

<nav>Filter Kombinasi 5D & Shio Berdasarkan Ekor Main</nav>
<div class="container">
  <h1>Input Data</h1>
  <label for="dataKombinasi">Kombinasi 5D:</label>
  <textarea id="dataKombinasi" rows="10" placeholder="Contoh: 12345 54321 98765"></textarea>
  
  <label for="angkaMain">Ekor Main (maks 7 digit):</label>
  <textarea id="angkaMain" rows="2" placeholder="Contoh: 1234567"></textarea>

  <label for="shioMain">Pilih Shio:</label>
  <select id="shioMain">
    <option value="semua">-- Semua Shio --</option>
    <option value="Ular">Ular</option>
    <option value="Naga">Naga</option>
    <option value="Kelinci">Kelinci</option>
    <option value="Harimau">Harimau</option>
    <option value="Kerbau">Kerbau</option>
    <option value="Tikus">Tikus</option>
    <option value="Babi">Babi</option>
    <option value="Anjing">Anjing</option>
    <option value="Ayam">Ayam</option>
    <option value="Monyet">Monyet</option>
    <option value="Kambing">Kambing</option>
    <option value="Kuda">Kuda</option>
  </select>

  <button onclick="filterAngka()">Filter</button>

  <pre id="result">Hasil akan muncul di sini...</pre>
</div>

<script>
const shioMap = {
  "Ular": ["00","02","04","05","06","07","08","09","11","14","16","17","18","19","20","21","23","26","28","29","30","31","32","33","35","38","40","41","42","43","44","45","47","50","52","53","54","55","56","57","59","62","64","65","66","67","68","69","71","74","76","77","78","79","80","81","83","86","88","89","90","91","92","93","95","98"],
  "Naga": ["03","05","06","07","08","09","10","12","15","17","18","19","20","21","22","24","27","29","30","31","32","33","34","36","39","41","42","43","44","45","46","48","51","53","54","55","56","57","58","60","63","65","66","67","68","69","70","72","75","77","78","79","80","81","82","84","87","89","90","91","92","93","94","96","99"],
  "Kelinci": ["00","01","04","06","07","08","09","10","11","13","16","18","19","20","21","22","23","25","28","30","31","32","33","34","35","37","40","42","43","44","45","46","47","49","52","54","55","56","57","58","59","61","64","66","67","68","69","70","71","73","76","78","79","80","81","82","83","85","88","90","91","92","93","94","95","97"],
  "Harimau": ["01","02","07","08","09","10","11","12","13","14","19","20","21","22","23","24","25","26","31","32","33","34","35","36","37","38","43","44","45","46","47","48","49","50","55","56","57","58","59","60","61","62","67","68","69","70","71","72","73","74","79","80","81","82","83","84","85","86","91","92","93","94","95","96","97","98"],
  "Kerbau": ["01","06","07","08","09","10","11","12","13","18","19","20","21","22","23","24","25","30","31","32","33","34","35","36","37","42","43","44","45","46","47","48","49","54","55","56","57","58","59","60","61","66","67","68","69","70","71","72","73","78","79","80","81","82","83","84","85","90","91","92","93","94","95","96","97"],
  "Tikus": ["00","01","02","04","05","07","10","11","12","13","14","16","17","19","22","23","24","25","26","28","29","31","34","35","36","37","38","40","41","43","46","47","48","49","50","52","53","55","58","59","60","61","62","64","65","67","70","71","72","73","74","76","77","79","82","83","84","85","86","88","89","91","94","95","96","97","98"],
  "Babi": ["00","01","02","04","05","09","10","11","12","13","14","16","17","21","22","23","24","25","26","28","29","33","34","35","36","37","38","40","41","45","46","47","48","49","50","52","53","57","58","59","60","61","62","64","65","69","70","71","72","73","74","76","77","81","82","83","84","85","86","88","89","93","94","95","96","97","98"],
  "Anjing": ["00","01","02","03","04","06","09","11","12","13","14","15","16","18","21","23","24","25","26","27","28","30","33","35","36","37","38","39","40","42","45","47","48","49","50","51","52","54","57","59","60","61","62","63","64","66","69","71","72","73","74","75","76","78","81","83","84","85","86","87","88","90","93","95","96","97","98","99"],
  "Ayam": ["00","01","02","03","04","07","08","10","11","13","14","15","16","19","20","22","23","25","26","27","28","31","32","34","35","37","38","39","40","43","44","46","47","49","50","51","52","55","56","58","59","61","62","63","64","67","68","70","71","73","74","75","76","79","80","82","83","85","86","87","88","91","92","94","95","97","98","99"],
  "Monyet": ["00","01","02","03","04","05","06","08","11","13","14","15","16","17","18","20","23","25","26","27","28","29","30","32","35","37","38","39","40","41","42","44","47","49","50","51","52","53","54","56","59","61","62","63","64","65","66","68","71","73","74","75","76","77","78","80","83","85","86","87","88","89","90","92","95","97","98","99"],
  "Kambing": ["00","02","03","04","05","06","07","09","12","14","15","16","17","18","19","21","24","26","27","28","29","30","31","33","36","38","39","40","41","42","43","45","48","50","51","52","53","54","55","57","60","62","63","64","65","66","67","69","72","74","75","76","77","78","79","81","84","86","87","88","89","90","91","93","96","98","99"],
  "Kuda": ["00","03","04","05","06","07","08","09","10","15","16","17","18","19","20","21","22","27","28","29","30","31","32","33","34","39","40","41","42","43","44","45","46","51","52","53","54","55","56","57","58","63","64","65","66","67","68","69","70","75","76","77","78","79","80","81","82","87","88","89","90","91","92","93","94","99"]
};

function filterAngka() {
  const rawData = document.getElementById("dataKombinasi").value.trim();
  const angkaMainRaw = document.getElementById("angkaMain").value.trim();
  const shioMain = document.getElementById("shioMain").value;
  const resultDiv = document.getElementById("result");

  if (!/^[0-9]{1,7}$/.test(angkaMainRaw)) {
    alert("Ekor Main hanya boleh berisi maksimal 7 digit angka.");
    return;
  }

  let kombinasi5D = rawData.split(/[\s,*]+/).filter(k => k.length === 5);
  let ekorMain = angkaMainRaw.split('');
  let hasil = [];

  kombinasiLoop:
  for (const angka of kombinasi5D) {
    for (const ekor of ekorMain) {
      if (!angka.includes(ekor)) continue kombinasiLoop;
    }
    if (shioMain !== "semua") {
      const duaDigitTerakhir = angka.slice(-2);
      if (!(shioMap[shioMain] || []).includes(duaDigitTerakhir)) continue;
    }
    hasil.push(angka + "*");
  }

  const kolomPerBaris = 10;
  let outputLines = [];
  for (let i = 0; i < hasil.length; i += kolomPerBaris) {
    outputLines.push(hasil.slice(i, i + kolomPerBaris).join(" "));
  }

  resultDiv.textContent = `Ditemukan ${hasil.length} kombinasi:\n\n` + outputLines.join("\n");
}
</script>

</body>
</html>
