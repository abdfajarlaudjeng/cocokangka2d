<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Generator Kombinasi Togel</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    input, select, button {
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      font-size: 16px;
    }
    #result {
      background: #f4f4f4;
      padding: 10px;
      border-radius: 8px;
      font-size: 14px;
      white-space: pre-wrap;
      max-height: 400px;
      overflow-y: auto;
      border: 1px solid #ccc;
    }
    .flex-row {
      display: flex;
      gap: 10px;
    }
    .flex-row > * {
      flex: 1;
    }
  </style>
</head>
<body>

  <h2>Generator Togel 2D, 3D, 4D + Filter Ganjil/Genap</h2>

  <label>AS:</label>
  <input type="text" id="as" value="1234567890">

  <label>KOP:</label>
  <input type="text" id="kop" value="1234567890">

  <label>KEPALA:</label>
  <input type="text" id="kepala" value="1234567890">

  <label>EKOR:</label>
  <input type="text" id="ekor" value="1234567890">

  <label>Filter Ganjil/Genap:</label>
  <select id="filter">
    <option value="all">Semua</option>
    <option value="ganjil">Hanya Ganjil</option>
    <option value="genap">Hanya Genap</option>
  </select>

  <div class="flex-row">
    <button onclick="generateAll()">🔄 Generate</button>
    <button onclick="downloadByType('2D')">⬇️ Download 2D</button>
    <button onclick="downloadByType('3D')">⬇️ Download 3D</button>
    <button onclick="downloadByType('4D')">⬇️ Download 4D</button>
  </div>

  <div id="result">Output akan muncul di sini...</div>

  <script>
    let combos = { "2D": [], "3D": [], "4D": [] };

    function isGanjil(str) {
      const lastDigit = parseInt(str[str.length - 1]);
      return lastDigit % 2 === 1;
    }

    function isGenap(str) {
      const lastDigit = parseInt(str[str.length - 1]);
      return lastDigit % 2 === 0;
    }

    function filterCombo(list) {
      const filter = document.getElementById("filter").value;
      if (filter === 'ganjil') return list.filter(isGanjil);
      if (filter === 'genap') return list.filter(isGenap);
      return list;
    }

    function generateAll() {
      const as = document.getElementById("as").value.trim().split('');
      const kop = document.getElementById("kop").value.trim().split('');
      const kepala = document.getElementById("kepala").value.trim().split('');
      const ekor = document.getElementById("ekor").value.trim().split('');

      combos["2D"] = [];
      combos["3D"] = [];
      combos["4D"] = [];

      // 2D
      for (let k of kepala) {
        for (let e of ekor) {
          combos["2D"].push(`${k}${e}`);
        }
      }

      // 3D
      for (let ko of kop) {
        for (let k of kepala) {
          for (let e of ekor) {
            combos["3D"].push(`${ko}${k}${e}`);
          }
        }
      }

      // 4D
      for (let a of as) {
        for (let ko of kop) {
          for (let k of kepala) {
            for (let e of ekor) {
              combos["4D"].push(`${a}${ko}${k}${e}`);
            }
          }
        }
      }

      const out2D = filterCombo(combos["2D"]).map(x => x + '*');
      const out3D = filterCombo(combos["3D"]).map(x => x + '*');
      const out4D = filterCombo(combos["4D"]).map(x => x + '*');

      document.getElementById("result").innerText =
`✅ Total Kombinasi (setelah filter):
2D: ${out2D.length}
3D: ${out3D.length}
4D: ${out4D.length}

🎯 2D:
${out2D.join(' ')}

🎯 3D:
${out3D.join(' ')}

🎯 4D:
${out4D.join(' ')}
`;
    }

    function downloadByType(type) {
      if (!combos[type] || combos[type].length === 0) {
        alert("Silakan generate dulu.");
        return;
      }

      const filtered = filterCombo(combos[type]);
      const text = filtered.map(x => x + '*').join(' ');

      const blob = new Blob([`Kombinasi ${type} (${filtered.length} angka):\n${text}`], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `kombinasi_${type.toLowerCase()}.txt`;
      link.click();
      URL.revokeObjectURL(url);
    }
  </script>

</body>
</html>
