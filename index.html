=<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Cocokkan Angka 2D, 3D, 4D</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex">

  <!-- Navbar kiri -->
  <nav class="bg-white w-64 min-h-screen shadow-lg p-6 flex flex-col sticky top-0">
    <h1 class="text-xl font-bold mb-8 text-gray-800">BBFS ALL PASARAN</h1>
    <ul class="flex flex-col gap-4">
      <li><a href="index.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">Data 2D</a></li>
      <li><a href="2DAS.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">2D BBFS AS</a></li>
      <li><a href="Final2d1.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">2D KEPALA - EKOR</a></li>
      <li><a href="2dshio.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">2D SHIO MAIN</a></li>
      <li><a href="final2d.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">REKAP PREDIKSI</a></li>
      <li><a href="beting.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">Beting Pasaran</a></li>
      <li><a href="kombinasi423d.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">Kombinasi 423D</a></li>
      <li><a href="3D.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">Prediksi 3D</a></li>
      <li><a href="4D.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">Prediksi 4D</a></li>
      <li><a href="kombinasi34d.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">Prediksi 4D</a></li>
      <li><a href="jumlah.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">BBFS ALL PASARAN</a></li>
      <li><a href="Generator423dfinal.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">Generator 423D</a></li>
      <li><a href="5D.html" class="block px-3 py-2 rounded hover:bg-blue-600 hover:text-white transition">Generator 5D</a></li>
    </ul>
  </nav>

  <main class="flex-1 p-6 overflow-auto">
    <div class="max-w-4xl mx-auto space-y-12">

      <!-- 2D -->
      <section class="bg-white p-6 rounded-xl shadow-lg">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800">Kolaborasi Angka 2D</h2>
        <p class="text-gray-600 mb-4">
          Masukkan angka 2 digit, dipisahkan tanda <code class="bg-gray-200 px-1 rounded">*</code> (contoh: 12*34*56)
        </p>
        <div class="flex flex-col gap-4 max-w-xl">
          <input id="kolomA2D" placeholder="Kolom A (2D SHIO)" class="border px-4 py-2 rounded focus:ring-blue-500" />
          <input id="kolomB2D" placeholder="Kolom B (2D AS)" class="border px-4 py-2 rounded focus:ring-blue-500" />
          <input id="kolomC2D" placeholder="Kolom C (2D EKOR Validasi)" class="border px-4 py-2 rounded border-yellow-400 focus:ring-yellow-500" />
          <button onclick="cocokkan('2D')" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Cocokkan 2D</button>
        </div>
        <div id="hasil2D" class="mt-4"></div>
      </section>

      <!-- 3D -->
      <section class="bg-white p-6 rounded-xl shadow-lg">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800">Kolaborasi Angka 3D</h2>
        <p class="text-gray-600 mb-4">
          Masukkan angka 3 digit, dipisahkan tanda <code class="bg-gray-200 px-1 rounded">*</code> (contoh: 123*456*789)
        </p>
        <div class="flex flex-col gap-4 max-w-xl">
          <input id="kolomA3D" placeholder="Kolom A (3D SHIO)" class="border px-4 py-2 rounded focus:ring-blue-500" />
          <input id="kolomB3D" placeholder="Kolom B (3D AS)" class="border px-4 py-2 rounded focus:ring-blue-500" />
          <input id="kolomC3D" placeholder="Kolom C (3D EKOR Validasi)" class="border px-4 py-2 rounded border-yellow-400 focus:ring-yellow-500" />
          <button onclick="cocokkan('3D')" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Cocokkan 3D</button>
        </div>
        <div id="hasil3D" class="mt-4"></div>
      </section>

      <!-- 4D -->
      <section class="bg-white p-6 rounded-xl shadow-lg">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800">Kolaborasi Angka 4D</h2>
        <p class="text-gray-600 mb-4">
          Masukkan angka 4 digit, dipisahkan tanda <code class="bg-gray-200 px-1 rounded">*</code> (contoh: 1234*5678*9012)
        </p>
        <div class="flex flex-col gap-4 max-w-xl">
          <input id="kolomA4D" placeholder="Kolom A (4D SHIO)" class="border px-4 py-2 rounded focus:ring-blue-500" />
          <input id="kolomB4D" placeholder="Kolom B (4D AS)" class="border px-4 py-2 rounded focus:ring-blue-500" />
          <input id="kolomC4D" placeholder="Kolom C (4D EKOR Validasi)" class="border px-4 py-2 rounded border-yellow-400 focus:ring-yellow-500" />
          <button onclick="cocokkan('4D')" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Cocokkan 4D</button>
        </div>
        <div id="hasil4D" class="mt-4"></div>
      </section>

    </div>
  </main>

<script>
  function cocokkan(tipe) {
    const kolomA = document.getElementById(`kolomA${tipe}`).value.trim();
    const kolomB = document.getElementById(`kolomB${tipe}`).value.trim();
    const kolomC = document.getElementById(`kolomC${tipe}`).value.trim();
    const hasilEl = document.getElementById(`hasil${tipe}`);

    let regex;
    if (tipe === '2D') regex = /^\d{2}$/;
    else if (tipe === '3D') regex = /^\d{3}$/;
    else if (tipe === '4D') regex = /^\d{4}$/;
    else {
      hasilEl.innerHTML = '<p class="text-red-500">Tipe tidak dikenal</p>';
      return;
    }

    const listA = kolomA.split('*').map(s => s.trim()).filter(a => regex.test(a));
    const listB = kolomB.split('*').map(s => s.trim()).filter(a => regex.test(a));
    const listC = kolomC.split('*').map(s => s.trim()).filter(a => regex.test(a));

    const setB = new Set(listB);
    const setC = new Set(listC);

    const hasilCocok = listA.filter(angka => setB.has(angka));
    const hasilValidasi = hasilCocok.filter(angka => setC.has(angka));

    if (hasilCocok.length > 0) {
      const gabung = hasilCocok.join('*');
      let validasiHtml = '';

      if (hasilValidasi.length > 0) {
        validasiHtml = `
          <p class="mt-2 font-semibold text-yellow-700">Validasi (Kolom C) ditemukan:</p>
          <p class="text-yellow-800">${hasilValidasi.join('*')}</p>
        `;
      } else {
        validasiHtml = `<p class="mt-2 text-red-500">Tidak ada angka cocok yang tervalidasi di Kolom C.</p>`;
      }

      hasilEl.innerHTML = `
        <p>Angka cocok antara Kolom A & B (Total: ${hasilCocok.length}):</p>
        <p class="font-semibold text-blue-600">${gabung}</p>
        ${validasiHtml}
        <button onclick="salinHasil('${tipe}')" class="mt-3 bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded">Salin Hasil</button>
      `;
    } else {
      hasilEl.innerHTML = `<p class="text-red-500">Tidak ada angka yang cocok antara Kolom A & B.</p>`;
    }
  }

  function salinHasil(tipe) {
    const hasilEl = document.getElementById(`hasil${tipe}`);
    const teks = hasilEl.querySelector('p.font-semibold')?.textContent || '';
    if (!teks) {
      alert('Tidak ada hasil untuk disalin.');
      return;
    }
    navigator.clipboard.writeText(teks).then(() => {
      alert('Hasil telah disalin ke clipboard!');
    }).catch(() => {
      alert('Gagal menyalin hasil.');
    });
  }
</script>

</body>
</html>
